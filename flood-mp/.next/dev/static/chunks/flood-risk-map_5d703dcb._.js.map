{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/MapClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst Map = dynamic(() => import(\"./Map\"), {\r\n  ssr: false,\r\n});\r\n\r\nexport default function MapClient(props: any) {\r\n  return <Map {...props} />;\r\n}"],"names":[],"mappings":";;;;;AAEA;;AAFA;;;AAIA,MAAM,MAAM,IAAA,qMAAO,EAAC;;;;;;IAClB,KAAK;;KADD;AAIS,SAAS,UAAU,KAAU;IAC1C,qBAAO,qNAAC;QAAK,GAAG,KAAK;;;;;;AACvB;MAFwB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/lib/searchMapbox.ts"],"sourcesContent":["export async function searchMapbox(query: string) {\r\n  const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\r\n  if (!token || query.length < 3) return [];\r\n\r\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\r\n    query\r\n  )}.json?access_token=${token}&autocomplete=true&limit=5&country=IN`;\r\n\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  return data.features || [];\r\n}"],"names":[],"mappings":";;;;AACgB;AADT,eAAe,aAAa,KAAa;IAC9C,MAAM;IACN,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO,EAAE;IAEzC,MAAM,MAAM,CAAC,kDAAkD,EAAE,mBAC/D,OACA,mBAAmB,EAAE,MAAM,qCAAqC,CAAC;IAEnE,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,OAAO,KAAK,QAAQ,IAAI,EAAE;AAC5B"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/RouteInput.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { searchMapbox } from \"../lib/searchMapbox\";\r\n\r\ninterface Props {\r\n  onRoute: (\r\n    src: string,\r\n    dest: string,\r\n    mode: \"driving\" | \"walking\" | \"cycling\"\r\n  ) => void;\r\n}\r\n\r\n// Browser speech API\r\nconst SpeechRecognition =\r\n  (typeof window !== \"undefined\" &&\r\n    ((window as any).SpeechRecognition ||\r\n      (window as any).webkitSpeechRecognition)) ||\r\n  null;\r\n\r\nexport default function RouteInput({ onRoute }: Props) {\r\n  const [source, setSource] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [mode, setMode] =\r\n    useState<\"driving\" | \"walking\" | \"cycling\">(\"driving\");\r\n\r\n  const [srcSuggestions, setSrcSuggestions] = useState<any[]>([]);\r\n  const [destSuggestions, setDestSuggestions] = useState<any[]>([]);\r\n\r\n  const srcRef = useRef<HTMLInputElement>(null);\r\n  const destRef = useRef<HTMLInputElement>(null);\r\n\r\n  /* ---------------- AUTOCOMPLETE ---------------- */\r\n\r\n  useEffect(() => {\r\n    if (source.length < 3) {\r\n      setSrcSuggestions([]);\r\n      return;\r\n    }\r\n    searchMapbox(source).then(setSrcSuggestions);\r\n  }, [source]);\r\n\r\n  useEffect(() => {\r\n    if (destination.length < 3) {\r\n      setDestSuggestions([]);\r\n      return;\r\n    }\r\n    searchMapbox(destination).then(setDestSuggestions);\r\n  }, [destination]);\r\n\r\n  /* ---------------- GPS ---------------- */\r\n\r\n  function useMyLocation() {\r\n    if (!navigator.geolocation) {\r\n      alert(\"Geolocation not supported\");\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        const lat = pos.coords.latitude;\r\n        const lon = pos.coords.longitude;\r\n        setSource(`${lat},${lon}`);\r\n        setSrcSuggestions([]);\r\n      },\r\n      () => alert(\"Location permission denied\"),\r\n      { enableHighAccuracy: true }\r\n    );\r\n  }\r\n\r\n  /* ---------------- VOICE INPUT ---------------- */\r\n\r\n  function startVoiceInput(\r\n    target: \"source\" | \"destination\"\r\n  ) {\r\n    if (!SpeechRecognition) {\r\n      alert(\"Voice input not supported in this browser\");\r\n      return;\r\n    }\r\n\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = \"en-IN\";\r\n    recognition.interimResults = false;\r\n    recognition.maxAlternatives = 1;\r\n\r\n    recognition.onresult = (event: any) => {\r\n      const text = event.results[0][0].transcript;\r\n\r\n      if (target === \"source\") {\r\n        setSource(text);\r\n        setSrcSuggestions([]);\r\n      } else {\r\n        setDestination(text);\r\n        setDestSuggestions([]);\r\n      }\r\n    };\r\n\r\n    recognition.onerror = () => {\r\n      alert(\"Voice recognition failed. Try again.\");\r\n    };\r\n\r\n    recognition.start();\r\n  }\r\n\r\n  /* ---------------- UI ---------------- */\r\n\r\n  return (\r\n    <div className=\"route\">\r\n\r\n      {/* SOURCE */}\r\n      <div style={{ position: \"relative\", display: \"flex\", gap: \"8px\" }}>\r\n        <input\r\n          ref={srcRef}\r\n          placeholder=\"Source\"\r\n          value={source}\r\n          onChange={(e) => setSource(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") setSrcSuggestions([]);\r\n          }}\r\n        />\r\n\r\n        <button\r\n          type=\"button\"\r\n          title=\"Voice input\"\r\n          onClick={() => startVoiceInput(\"source\")}\r\n          style={{ borderRadius: \"8px\", cursor: \"pointer\",backgroundColor: \"#692f10\" }}\r\n        >\r\n          üé§\r\n        </button>\r\n\r\n        {srcSuggestions.length > 0 &&\r\n          document.activeElement === srcRef.current && (\r\n            <div className=\"dropdown\">\r\n              {srcSuggestions.map((s) => (\r\n                <div\r\n                  key={s.id}\r\n                  className=\"dropdown-item\"\r\n                  onClick={() => {\r\n                    setSource(s.place_name);\r\n                    setSrcSuggestions([]);\r\n                  }}\r\n                >\r\n                  {s.place_name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n      </div>\r\n\r\n      {/* GPS */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={useMyLocation}\r\n        style={{\r\n          margin: \"14px 0\",\r\n          backgroundColor: \"#692f10\",\r\n          color: \"white\",\r\n        }}\r\n      >\r\n        üìç Use My Location\r\n      </button>\r\n\r\n      {/* DESTINATION */}\r\n      <div style={{ position: \"relative\", display: \"flex\", gap: \"8px\" }}>\r\n        <input\r\n          ref={destRef}\r\n          placeholder=\"Destination\"\r\n          value={destination}\r\n          onChange={(e) => setDestination(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") setDestSuggestions([]);\r\n          }}\r\n        />\r\n\r\n        <button\r\n          type=\"button\"\r\n          title=\"Voice input\"\r\n          onClick={() => startVoiceInput(\"destination\")}\r\n          style={{ borderRadius: \"8px\", cursor: \"pointer\" ,backgroundColor:\" #692f10\"}}\r\n        >\r\n          üé§\r\n        </button>\r\n\r\n        {destSuggestions.length > 0 &&\r\n          document.activeElement === destRef.current && (\r\n            <div className=\"dropdown\">\r\n              {destSuggestions.map((s) => (\r\n                <div\r\n                  key={s.id}\r\n                  className=\"dropdown-item\"\r\n                  onClick={() => {\r\n                    setDestination(s.place_name);\r\n                    setDestSuggestions([]);\r\n                  }}\r\n                >\r\n                  {s.place_name}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n      </div>\r\n\r\n      {/* MODE + FIND */}\r\n      <div className=\"route-row\">\r\n        <select\r\n          value={mode}\r\n          onChange={(e) =>\r\n            setMode(e.target.value as any)\r\n          }\r\n        >\r\n          <option value=\"driving\">Driving</option>\r\n          <option value=\"walking\">Walking</option>\r\n          <option value=\"cycling\">Cycling</option>\r\n        </select>\r\n\r\n        <button\r\n          onClick={() => onRoute(source, destination, mode)}\r\n        >\r\n          Find Route\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/lib/geocode.ts"],"sourcesContent":["type GeoResult = {\r\n  lat: number;\r\n  lon: number;\r\n  source: \"mapbox\" | \"osm\";\r\n};\r\n\r\n\r\nexport async function geocode(place: string): Promise<GeoResult> {\r\n  try {\r\n    \r\n    return await geocodeWithMapbox(place);\r\n  } catch (err) {\r\n    console.warn(\"Mapbox failed, falling back to OSM:\", err);\r\n    \r\n    return await geocodeWithOSM(place);\r\n  }\r\n}\r\n\r\n\r\nasync function geocodeWithMapbox(place: string): Promise<GeoResult> {\r\n  const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\r\n  if (!token) throw new Error(\"Mapbox token missing\");\r\n\r\n  // Mumbai bounding box\r\n  const bbox = \"72.75,18.88,73.05,19.30\"; // west,south,east,north\r\n  const proximity = \"72.8777,19.076\"; // Mumbai center\r\n\r\n  const url =\r\n    `https://api.mapbox.com/geocoding/v5/mapbox.places/` +\r\n    `${encodeURIComponent(place)}.json` +\r\n    `?access_token=${token}` +\r\n    `&limit=1` +\r\n    `&country=IN` +\r\n    `&bbox=${bbox}` +\r\n    `&proximity=${proximity}`;\r\n\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (!data.features || data.features.length === 0) {\r\n    throw new Error(\"Mapbox geocoding failed\");\r\n  }\r\n\r\n  const [lon, lat] = data.features[0].center;\r\n\r\n  return { lat, lon, source: \"mapbox\" };\r\n}\r\n\r\n/* =========================\r\n   OSM NOMINATIM FALLBACK\r\n   ========================= */\r\nasync function geocodeWithOSM(place: string): Promise<GeoResult> {\r\n  const url =\r\n    `https://nominatim.openstreetmap.org/search?` +\r\n    `q=${encodeURIComponent(place + \", Mumbai\")}` +\r\n    `&format=json&limit=1`;\r\n\r\n  const res = await fetch(url, {\r\n    headers: {\r\n      // REQUIRED by Nominatim usage policy\r\n      \"User-Agent\": \"FloodRiskRoutePlanner/1.0 (student-project)\",\r\n    },\r\n  });\r\n\r\n  const data = await res.json();\r\n\r\n  if (!data || data.length === 0) {\r\n    throw new Error(\"OSM geocoding failed\");\r\n  }\r\n\r\n  return {\r\n    lat: parseFloat(data[0].lat),\r\n    lon: parseFloat(data[0].lon),\r\n    source: \"osm\",\r\n  };\r\n}"],"names":[],"mappings":";;;;AAoBgB;AAbT,eAAe,QAAQ,KAAa;IACzC,IAAI;QAEF,OAAO,MAAM,kBAAkB;IACjC,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,uCAAuC;QAEpD,OAAO,MAAM,eAAe;IAC9B;AACF;AAGA,eAAe,kBAAkB,KAAa;IAC5C,MAAM;IACN;;IAEA,sBAAsB;IACtB,MAAM,OAAO,2BAA2B,wBAAwB;IAChE,MAAM,YAAY,kBAAkB,gBAAgB;IAEpD,MAAM,MACJ,CAAC,kDAAkD,CAAC,GACpD,GAAG,mBAAmB,OAAO,KAAK,CAAC,GACnC,CAAC,cAAc,EAAE,OAAO,GACxB,CAAC,QAAQ,CAAC,GACV,CAAC,WAAW,CAAC,GACb,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,WAAW,EAAE,WAAW;IAE3B,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,KAAK,QAAQ,IAAI,KAAK,QAAQ,CAAC,MAAM,KAAK,GAAG;QAChD,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,QAAQ,CAAC,EAAE,CAAC,MAAM;IAE1C,OAAO;QAAE;QAAK;QAAK,QAAQ;IAAS;AACtC;AAEA;;6BAE6B,GAC7B,eAAe,eAAe,KAAa;IACzC,MAAM,MACJ,CAAC,2CAA2C,CAAC,GAC7C,CAAC,EAAE,EAAE,mBAAmB,QAAQ,aAAa,GAC7C,CAAC,oBAAoB,CAAC;IAExB,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,SAAS;YACP,qCAAqC;YACrC,cAAc;QAChB;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;QAC9B,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;QACL,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;QAC3B,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;QAC3B,QAAQ;IACV;AACF"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/FloodReportPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { geocode } from \"@/lib/geocode\";\r\n\r\ninterface Props {\r\n  onReport: (data: {\r\n    lat: number;\r\n    lon: number;\r\n    severity: number;\r\n    note?: string;\r\n  }) => void;\r\n}\r\n\r\nexport default function FloodReportPanel({ onReport }: Props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [severity, setSeverity] = useState(0.5);\r\n  const [note, setNote] = useState(\"\");\r\n  const [manualLocation, setManualLocation] = useState(\"\");\r\n  const [mode, setMode] = useState<\"gps\" | \"manual\">(\"gps\");\r\n\r\n  async function handleSubmit() {\r\n    try {\r\n      let lat: number;\r\n      let lon: number;\r\n\r\n      if (mode === \"gps\") {\r\n        if (!navigator.geolocation) {\r\n          alert(\"Geolocation not supported\");\r\n          return;\r\n        }\r\n\r\n        await new Promise<void>((resolve, reject) => {\r\n          navigator.geolocation.getCurrentPosition(\r\n            (pos) => {\r\n              lat = pos.coords.latitude;\r\n              lon = pos.coords.longitude;\r\n\r\n              onReport({ lat, lon, severity, note });\r\n              resolve();\r\n            },\r\n            () => reject(),\r\n            { enableHighAccuracy: true }\r\n          );\r\n        });\r\n      } else {\r\n        if (!manualLocation.trim()) {\r\n          alert(\"Please enter a location\");\r\n          return;\r\n        }\r\n\r\n        const coords = await geocode(manualLocation);\r\n        lat = coords.lat;\r\n        lon = coords.lon;\r\n\r\n        onReport({ lat, lon, severity, note });\r\n      }\r\n\r\n      alert(\"Flood reported successfully üåä\");\r\n      setOpen(false);\r\n      setNote(\"\");\r\n      setManualLocation(\"\");\r\n    } catch {\r\n      alert(\"Unable to fetch location\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"report-container\">\r\n      {!open && (\r\n        <button\r\n          className=\"report-btn\"\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          üåä Report Flood\r\n        </button>\r\n      )}\r\n\r\n      {open && (\r\n        <div className=\"report-card\">\r\n          <h3>Report Flood</h3>\r\n\r\n          {/* LOCATION MODE SELECTOR */}\r\n          <div style={{ marginBottom: \"10px\" }}>\r\n            <label>\r\n              <input\r\n                type=\"radio\"\r\n                value=\"gps\"\r\n                checked={mode === \"gps\"}\r\n                onChange={() => setMode(\"gps\")}\r\n              />\r\n              üìç Use My Location\r\n            </label>\r\n\r\n            <br />\r\n\r\n            <label>\r\n              <input\r\n                type=\"radio\"\r\n                value=\"manual\"\r\n                checked={mode === \"manual\"}\r\n                onChange={() => setMode(\"manual\")}\r\n              />\r\n              üîé Enter Location\r\n            </label>\r\n          </div>\r\n\r\n          {/* MANUAL INPUT FIELD */}\r\n          {mode === \"manual\" && (\r\n            <input\r\n              placeholder=\"Enter location name\"\r\n              value={manualLocation}\r\n              onChange={(e) =>\r\n                setManualLocation(e.target.value)\r\n              }\r\n              style={{\r\n                padding: \"8px\",\r\n                borderRadius: \"8px\",\r\n                border: \"1px solid #ddd\",\r\n                marginBottom: \"10px\",\r\n              }}\r\n            />\r\n          )}\r\n\r\n          <label>Severity</label>\r\n          <select\r\n            value={severity}\r\n            onChange={(e) =>\r\n              setSeverity(Number(e.target.value))\r\n            }\r\n          >\r\n            <option value={0.3}>Low</option>\r\n            <option value={0.6}>Moderate</option>\r\n            <option value={0.9}>Severe</option>\r\n          </select>\r\n\r\n          <label>Note (optional)</label>\r\n          <textarea\r\n            placeholder=\"Water level? Road blocked?\"\r\n            value={note}\r\n            onChange={(e) =>\r\n              setNote(e.target.value)\r\n            }\r\n          />\r\n\r\n          <div className=\"report-actions\">\r\n            <button onClick={handleSubmit}>\r\n              Submit\r\n            </button>\r\n            <button\r\n              className=\"cancel\"\r\n              onClick={() => setOpen(false)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAce,SAAS,iBAAiB,EAAE,QAAQ,EAAS;;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iMAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iMAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iMAAQ,EAAC;IACjC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iMAAQ,EAAC;IACrD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iMAAQ,EAAmB;IAEnD,eAAe;QACb,IAAI;YACF,IAAI;YACJ,IAAI;YAEJ,IAAI,SAAS,OAAO;gBAClB,IAAI,CAAC,UAAU,WAAW,EAAE;oBAC1B,MAAM;oBACN;gBACF;gBAEA,MAAM,IAAI,QAAc,CAAC,SAAS;oBAChC,UAAU,WAAW,CAAC,kBAAkB,CACtC,CAAC;wBACC,MAAM,IAAI,MAAM,CAAC,QAAQ;wBACzB,MAAM,IAAI,MAAM,CAAC,SAAS;wBAE1B,SAAS;4BAAE;4BAAK;4BAAK;4BAAU;wBAAK;wBACpC;oBACF,GACA,IAAM,UACN;wBAAE,oBAAoB;oBAAK;gBAE/B;YACF,OAAO;gBACL,IAAI,CAAC,eAAe,IAAI,IAAI;oBAC1B,MAAM;oBACN;gBACF;gBAEA,MAAM,SAAS,MAAM,IAAA,oJAAO,EAAC;gBAC7B,MAAM,OAAO,GAAG;gBAChB,MAAM,OAAO,GAAG;gBAEhB,SAAS;oBAAE;oBAAK;oBAAK;oBAAU;gBAAK;YACtC;YAEA,MAAM;YACN,QAAQ;YACR,QAAQ;YACR,kBAAkB;QACpB,EAAE,OAAM;YACN,MAAM;QACR;IACF;IAEA,qBACE,qNAAC;QAAI,WAAU;;YACZ,CAAC,sBACA,qNAAC;gBACC,WAAU;gBACV,SAAS,IAAM,QAAQ;0BACxB;;;;;;YAKF,sBACC,qNAAC;gBAAI,WAAU;;kCACb,qNAAC;kCAAG;;;;;;kCAGJ,qNAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAO;;0CACjC,qNAAC;;kDACC,qNAAC;wCACC,MAAK;wCACL,OAAM;wCACN,SAAS,SAAS;wCAClB,UAAU,IAAM,QAAQ;;;;;;oCACxB;;;;;;;0CAIJ,qNAAC;;;;;0CAED,qNAAC;;kDACC,qNAAC;wCACC,MAAK;wCACL,OAAM;wCACN,SAAS,SAAS;wCAClB,UAAU,IAAM,QAAQ;;;;;;oCACxB;;;;;;;;;;;;;oBAML,SAAS,0BACR,qNAAC;wBACC,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IACT,kBAAkB,EAAE,MAAM,CAAC,KAAK;wBAElC,OAAO;4BACL,SAAS;4BACT,cAAc;4BACd,QAAQ;4BACR,cAAc;wBAChB;;;;;;kCAIJ,qNAAC;kCAAM;;;;;;kCACP,qNAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IACT,YAAY,OAAO,EAAE,MAAM,CAAC,KAAK;;0CAGnC,qNAAC;gCAAO,OAAO;0CAAK;;;;;;0CACpB,qNAAC;gCAAO,OAAO;0CAAK;;;;;;0CACpB,qNAAC;gCAAO,OAAO;0CAAK;;;;;;;;;;;;kCAGtB,qNAAC;kCAAM;;;;;;kCACP,qNAAC;wBACC,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IACT,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kCAI1B,qNAAC;wBAAI,WAAU;;0CACb,qNAAC;gCAAO,SAAS;0CAAc;;;;;;0CAG/B,qNAAC;gCACC,WAAU;gCACV,SAAS,IAAM,QAAQ;0CACxB;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAlJwB;KAAA"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/lib/getMapboxRoute.ts"],"sourcesContent":["type LatLng = { lat: number; lon: number };\r\n\r\nexport type RawRoute = {\r\n  geometry: {\r\n    coordinates: [number, number][];\r\n  };\r\n  distance: number;\r\n  duration: number;\r\n};\r\n\r\nexport async function getMapboxRoute(\r\n  src: LatLng,\r\n  dest: LatLng,\r\n  mode: \"driving\" | \"walking\" | \"cycling\"\r\n): Promise<RawRoute[]> {\r\n  const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\r\n  if (!token) throw new Error(\"Mapbox token missing\");\r\n\r\n  const url =\r\n    `https://api.mapbox.com/directions/v5/mapbox/${mode}/` +\r\n    `${src.lon},${src.lat};${dest.lon},${dest.lat}` +\r\n    `?alternatives=true&geometries=geojson&overview=full&access_token=${token}`;\r\n\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (!data.routes || data.routes.length === 0) {\r\n    throw new Error(\"No routes returned\");\r\n  }\r\n\r\n  return data.routes;\r\n}"],"names":[],"mappings":";;;;AAegB;AALT,eAAe,eACpB,GAAW,EACX,IAAY,EACZ,IAAuC;IAEvC,MAAM;IACN;;IAEA,MAAM,MACJ,CAAC,4CAA4C,EAAE,KAAK,CAAC,CAAC,GACtD,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,GAC/C,CAAC,iEAAiE,EAAE,OAAO;IAE7E,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,MAAM,KAAK,GAAG;QAC5C,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,KAAK,MAAM;AACpB"}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/lib/routeRisk.ts"],"sourcesContent":["import * as turf from \"@turf/turf\";\r\nimport { FeatureCollection } from \"geojson\";\r\n\r\nexport function calculateRouteRisk(\r\n  routeCoords: [number, number][],\r\n  floodZones: FeatureCollection\r\n): number {\r\n  try {\r\n    // Route line\r\n    const routeLine = turf.lineString(\r\n      routeCoords.map(([lat, lon]) => [lon, lat])\r\n    );\r\n\r\n    const routeLength = turf.length(routeLine, {\r\n      units: \"kilometers\",\r\n    });\r\n\r\n    if (routeLength === 0) return 0;\r\n\r\n    let weightedRiskSum = 0;\r\n\r\n    for (const zone of floodZones.features) {\r\n      const score = Number(\r\n        zone.properties?.ward_flood_risk_nn_risk_score ?? 0\r\n      );\r\n\r\n      if (score < 0.2) continue; // ignore safe zones\r\n\r\n      // Severity weight\r\n      let severity = 0.1;\r\n      if (score > 0.8) severity = 1;\r\n      else if (score > 0.6) severity = 0.8;\r\n      else if (score > 0.4) severity = 0.6;\r\n      else if (score > 0.2) severity = 0.3;\r\n\r\n      // Intersect route with zone polygon\r\n      const clipped = turf.lineSplit(\r\n        routeLine,\r\n        zone.geometry as any\r\n      );\r\n\r\n      for (const segment of clipped.features) {\r\n        if (\r\n          turf.booleanWithin(\r\n            turf.midpoint(\r\n              segment.geometry.coordinates[0],\r\n              segment.geometry.coordinates[\r\n                segment.geometry.coordinates.length - 1\r\n              ]\r\n            ),\r\n            zone.geometry as any\r\n          )\r\n        ) {\r\n          const segmentLength = turf.length(segment, {\r\n            units: \"kilometers\",\r\n          });\r\n\r\n          weightedRiskSum +=\r\n            (segmentLength / routeLength) * severity;\r\n        }\r\n      }\r\n    }\r\n\r\n    return Number(\r\n      Math.min(weightedRiskSum, 1).toFixed(2)\r\n    );\r\n  } catch (err) {\r\n    console.error(\"Risk calculation error:\", err);\r\n    return 0;\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGO,SAAS,mBACd,WAA+B,EAC/B,UAA6B;IAE7B,IAAI;QACF,aAAa;QACb,MAAM,YAAY,kMAAe,CAC/B,YAAY,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,GAAK;gBAAC;gBAAK;aAAI;QAG5C,MAAM,cAAc,6LAAW,CAAC,WAAW;YACzC,OAAO;QACT;QAEA,IAAI,gBAAgB,GAAG,OAAO;QAE9B,IAAI,kBAAkB;QAEtB,KAAK,MAAM,QAAQ,WAAW,QAAQ,CAAE;YACtC,MAAM,QAAQ,OACZ,KAAK,UAAU,EAAE,iCAAiC;YAGpD,IAAI,QAAQ,KAAK,UAAU,oBAAoB;YAE/C,kBAAkB;YAClB,IAAI,WAAW;YACf,IAAI,QAAQ,KAAK,WAAW;iBACvB,IAAI,QAAQ,KAAK,WAAW;iBAC5B,IAAI,QAAQ,KAAK,WAAW;iBAC5B,IAAI,QAAQ,KAAK,WAAW;YAEjC,oCAAoC;YACpC,MAAM,UAAU,uMAAc,CAC5B,WACA,KAAK,QAAQ;YAGf,KAAK,MAAM,WAAW,QAAQ,QAAQ,CAAE;gBACtC,IACE,+MAAkB,CAChB,iMAAa,CACX,QAAQ,QAAQ,CAAC,WAAW,CAAC,EAAE,EAC/B,QAAQ,QAAQ,CAAC,WAAW,CAC1B,QAAQ,QAAQ,CAAC,WAAW,CAAC,MAAM,GAAG,EACvC,GAEH,KAAK,QAAQ,GAEf;oBACA,MAAM,gBAAgB,6LAAW,CAAC,SAAS;wBACzC,OAAO;oBACT;oBAEA,mBACE,AAAC,gBAAgB,cAAe;gBACpC;YACF;QACF;QAEA,OAAO,OACL,KAAK,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC;IAEzC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACF"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Map from \"../components/MapClient\";\nimport RouteInput from \"../components/RouteInput\";\nimport FloodReportPanel from \"@/components/FloodReportPanel\";\nimport { geocode } from \"../lib/geocode\";\nimport { getMapboxRoute } from \"../lib/getMapboxRoute\";\nimport { calculateRouteRisk } from \"@/lib/routeRisk\";\nimport { FeatureCollection } from \"geojson\";\n\ntype RouteOption = {\n  path: [number, number][];\n  distance: number;\n  duration: number;\n  risk: number;\n};\n\ntype FloodReport = {\n  _id?: string;\n  lat: number;\n  lon: number;\n  severity: number;\n};\n\nfunction isCoords(val: string) {\n  if (!val.includes(\",\")) return false;\n  const [a, b] = val.split(\",\").map(Number);\n  return !isNaN(a) && !isNaN(b);\n}\n\nexport default function Home() {\n  const [routes, setRoutes] = useState<RouteOption[]>([]);\n  const [selectedRoute, setSelectedRoute] = useState(0);\n  const [mode, setMode] =\n    useState<\"driving\" | \"walking\" | \"cycling\">(\"driving\");\n\n  const [floodZones, setFloodZones] =\n    useState<FeatureCollection | null>(null);\n\n  const [floodReports, setFloodReports] =\n    useState<FloodReport[]>([]);\n\n  /* ---------------- LOAD WARD FLOOD ZONES ---------------- */\n  useEffect(() => {\n    fetch(\"/data/flood_zones_mumbai.geojson\")\n      .then((res) => res.json())\n      .then((data) => setFloodZones(data))\n      .catch((err) => console.error(\"Zone load error\", err));\n  }, []);\n\n  /* ---------------- LOAD REPORTS FROM DB ---------------- */\n  async function loadReports() {\n  try {\n    const res = await fetch(\"/api/reports\");\n\n    if (!res.ok) {\n      const text = await res.text();\n      console.error(\"API ERROR RESPONSE:\", text);\n      return;\n    }\n\n    const data = await res.json();\n    setFloodReports(data);\n\n  } catch (err) {\n    console.error(\"Failed to load reports\", err);\n  }\n}\n\n  useEffect(() => {\n    loadReports();\n    const interval = setInterval(loadReports, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  /* ---------------- HANDLE USER REPORT ---------------- */\n  async function handleReport(report: {\n    lat: number;\n    lon: number;\n    severity: number;\n  }) {\n    try {\n      await fetch(\"/api/reports\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(report),\n      });\n\n      loadReports(); // refresh after saving\n    } catch (err) {\n      console.error(\"Report failed\", err);\n    }\n  }\n\n  /* ---------------- ROUTE CALCULATION ---------------- */\n  async function handleRoute(\n    src: string,\n    dest: string,\n    selectedMode: \"driving\" | \"walking\" | \"cycling\"\n  ) {\n    try {\n      if (!floodZones) {\n        alert(\"Flood data loading...\");\n        return;\n      }\n\n      setMode(selectedMode);\n\n      const srcC = isCoords(src)\n        ? (() => {\n            const [lat, lon] = src.split(\",\").map(Number);\n            return { lat, lon };\n          })()\n        : await geocode(src);\n\n      const destC = isCoords(dest)\n        ? (() => {\n            const [lat, lon] = dest.split(\",\").map(Number);\n            return { lat, lon };\n          })()\n        : await geocode(dest);\n\n      const mapboxRoutes = await getMapboxRoute(\n        srcC,\n        destC,\n        selectedMode\n      );\n\n      const formatted: RouteOption[] =\n        mapboxRoutes.map((r) => {\n          const path: [number, number][] =\n            r.geometry.coordinates.map(\n              ([lon, lat]: [number, number]) => [lat, lon]\n            );\n\n          const baseRisk = calculateRouteRisk(\n            path,\n            floodZones\n          );\n\n          /* --- Add User Report Risk --- */\n          let reportRisk = 0;\n\n          floodReports.forEach((rep) => {\n            path.forEach(([lat, lon]) => {\n              const dist =\n                Math.sqrt(\n                  (lat - rep.lat) ** 2 +\n                  (lon - rep.lon) ** 2\n                );\n\n              if (dist < 0.01) {\n                reportRisk += rep.severity * 3;\n              }\n            });\n          });\n\n          return {\n            path,\n            distance: r.distance,\n            duration: r.duration,\n            risk: baseRisk + reportRisk,\n          };\n        });\n\n      // Sort safest first\n      formatted.sort((a, b) => a.risk - b.risk);\n\n      setRoutes(formatted);\n      setSelectedRoute(0);\n    } catch (e) {\n      console.error(e);\n      alert(\"Route not found. Try clearer locations.\");\n    }\n  }\n\n  /* ---------------- UI ---------------- */\n\n  return (\n    <div className=\"app\">\n      <aside className=\"sidebar\">\n        <h1 className=\"title\">\n          üåä Flood Risk Route Planner\n        </h1>\n\n        <RouteInput onRoute={handleRoute} />\n\n        <FloodReportPanel onReport={handleReport} />\n\n        {routes.length > 0 && (\n          <div style={{ marginTop: \"20px\" }}>\n            <h3 style={{ marginBottom: \"10px\" }}>\n              Available Routes\n            </h3>\n\n            {routes.map((r, i) => (\n              <button\n                key={i}\n                onClick={() => setSelectedRoute(i)}\n                style={{\n                  display: \"block\",\n                  width: \"100%\",\n                  marginBottom: \"12px\",\n                  padding: \"14px\",\n                  borderRadius: \"14px\",\n                  border:\n                    selectedRoute === i\n                      ? \"2px solid #452711\"\n                      : \"1px solid #e5e7eb\",\n                  background:\n                    selectedRoute === i\n                      ? \"#fff0e0\"\n                      : \"#f9fafb\",\n                  cursor: \"pointer\",\n                  textAlign: \"left\",\n                }}\n              >\n                <strong>\n                  Route {i + 1}\n                  {i === 0 && \" ‚≠ê Safest\"}\n                </strong>\n\n                <div>\n                  üìè {(r.distance / 1000).toFixed(2)} km\n                </div>\n\n                <div>\n                  ‚è± {(r.duration / 60).toFixed(0)} mins\n                </div>\n\n                <div>\n                  ‚ö†Ô∏è Risk: {r.risk.toFixed(2)}\n                </div>\n              </button>\n            ))}\n          </div>\n        )}\n      </aside>\n\n      <main className=\"map-area\">\n        <Map\n          routes={routes}\n          selectedRoute={selectedRoute}\n          mode={mode}\n          floodReports={floodReports}\n        />\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAyBA,SAAS,SAAS,GAAW;IAC3B,IAAI,CAAC,IAAI,QAAQ,CAAC,MAAM,OAAO;IAC/B,MAAM,CAAC,GAAG,EAAE,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC;IAClC,OAAO,CAAC,MAAM,MAAM,CAAC,MAAM;AAC7B;AAEe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iMAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iMAAQ,EAAC;IACnD,MAAM,CAAC,MAAM,QAAQ,GACnB,IAAA,iMAAQ,EAAoC;IAE9C,MAAM,CAAC,YAAY,cAAc,GAC/B,IAAA,iMAAQ,EAA2B;IAErC,MAAM,CAAC,cAAc,gBAAgB,GACnC,IAAA,iMAAQ,EAAgB,EAAE;IAE5B,2DAA2D,GAC3D,IAAA,kMAAS;0BAAC;YACR,MAAM,oCACH,IAAI;kCAAC,CAAC,MAAQ,IAAI,IAAI;iCACtB,IAAI;kCAAC,CAAC,OAAS,cAAc;iCAC7B,KAAK;kCAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,mBAAmB;;QACrD;yBAAG,EAAE;IAEL,0DAA0D,GAC1D,eAAe;QACf,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YAExB,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,CAAC,uBAAuB;gBACrC;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,gBAAgB;QAElB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEE,IAAA,kMAAS;0BAAC;YACR;YACA,MAAM,WAAW,YAAY,aAAa;YAC1C;kCAAO,IAAM,cAAc;;QAC7B;yBAAG,EAAE;IAEL,wDAAwD,GACxD,eAAe,aAAa,MAI3B;QACC,IAAI;YACF,MAAM,MAAM,gBAAgB;gBAC1B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,eAAe,uBAAuB;QACxC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,uDAAuD,GACvD,eAAe,YACb,GAAW,EACX,IAAY,EACZ,YAA+C;QAE/C,IAAI;YACF,IAAI,CAAC,YAAY;gBACf,MAAM;gBACN;YACF;YAEA,QAAQ;YAER,MAAM,OAAO,SAAS,OAClB,CAAC;gBACC,MAAM,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC;gBACtC,OAAO;oBAAE;oBAAK;gBAAI;YACpB,CAAC,MACD,MAAM,IAAA,oJAAO,EAAC;YAElB,MAAM,QAAQ,SAAS,QACnB,CAAC;gBACC,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC;gBACvC,OAAO;oBAAE;oBAAK;gBAAI;YACpB,CAAC,MACD,MAAM,IAAA,oJAAO,EAAC;YAElB,MAAM,eAAe,MAAM,IAAA,kKAAc,EACvC,MACA,OACA;YAGF,MAAM,YACJ,aAAa,GAAG,CAAC,CAAC;gBAChB,MAAM,OACJ,EAAE,QAAQ,CAAC,WAAW,CAAC,GAAG,CACxB,CAAC,CAAC,KAAK,IAAsB,GAAK;wBAAC;wBAAK;qBAAI;gBAGhD,MAAM,WAAW,IAAA,iKAAkB,EACjC,MACA;gBAGF,gCAAgC,GAChC,IAAI,aAAa;gBAEjB,aAAa,OAAO,CAAC,CAAC;oBACpB,KAAK,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI;wBACtB,MAAM,OACJ,KAAK,IAAI,CACP,CAAC,MAAM,IAAI,GAAG,KAAK,IACnB,CAAC,MAAM,IAAI,GAAG,KAAK;wBAGvB,IAAI,OAAO,MAAM;4BACf,cAAc,IAAI,QAAQ,GAAG;wBAC/B;oBACF;gBACF;gBAEA,OAAO;oBACL;oBACA,UAAU,EAAE,QAAQ;oBACpB,UAAU,EAAE,QAAQ;oBACpB,MAAM,WAAW;gBACnB;YACF;YAEF,oBAAoB;YACpB,UAAU,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,GAAG,EAAE,IAAI;YAExC,UAAU;YACV,iBAAiB;QACnB,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,wCAAwC,GAExC,qBACE,qNAAC;QAAI,WAAU;;0BACb,qNAAC;gBAAM,WAAU;;kCACf,qNAAC;wBAAG,WAAU;kCAAQ;;;;;;kCAItB,qNAAC,+JAAU;wBAAC,SAAS;;;;;;kCAErB,qNAAC,qKAAgB;wBAAC,UAAU;;;;;;oBAE3B,OAAO,MAAM,GAAG,mBACf,qNAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAO;;0CAC9B,qNAAC;gCAAG,OAAO;oCAAE,cAAc;gCAAO;0CAAG;;;;;;4BAIpC,OAAO,GAAG,CAAC,CAAC,GAAG,kBACd,qNAAC;oCAEC,SAAS,IAAM,iBAAiB;oCAChC,OAAO;wCACL,SAAS;wCACT,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,cAAc;wCACd,QACE,kBAAkB,IACd,sBACA;wCACN,YACE,kBAAkB,IACd,YACA;wCACN,QAAQ;wCACR,WAAW;oCACb;;sDAEA,qNAAC;;gDAAO;gDACC,IAAI;gDACV,MAAM,KAAK;;;;;;;sDAGd,qNAAC;;gDAAI;gDACC,CAAC,EAAE,QAAQ,GAAG,IAAI,EAAE,OAAO,CAAC;gDAAG;;;;;;;sDAGrC,qNAAC;;gDAAI;gDACA,CAAC,EAAE,QAAQ,GAAG,EAAE,EAAE,OAAO,CAAC;gDAAG;;;;;;;sDAGlC,qNAAC;;gDAAI;gDACO,EAAE,IAAI,CAAC,OAAO,CAAC;;;;;;;;mCAlCtB;;;;;;;;;;;;;;;;;0BA0Cf,qNAAC;gBAAK,WAAU;0BACd,cAAA,qNAAC,8JAAG;oBACF,QAAQ;oBACR,eAAe;oBACf,MAAM;oBACN,cAAc;;;;;;;;;;;;;;;;;AAKxB;GA3NwB;KAAA"}}]
}