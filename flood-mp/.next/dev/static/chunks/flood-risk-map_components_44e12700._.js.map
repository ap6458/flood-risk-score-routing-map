{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/FloodZonesLayer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { GeoJSON } from \"react-leaflet\";\r\nimport { FeatureCollection, Feature } from \"geojson\";\r\nimport { PathOptions } from \"leaflet\";\r\n\r\nexport default function FloodZonesLayer() {\r\n  const [data, setData] = useState<FeatureCollection | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/data/flood_zones_mumbai.geojson\")\r\n      .then((res) => res.json())\r\n      .then((json) => setData(json))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <GeoJSON\r\n      data={data}\r\n      style={(feature?: Feature): PathOptions => {\r\n        const risk = Number(feature?.properties?.ward_flood_risk_nn_risk_score ?? 0);\r\n\r\n        let fillColor = \"#2ecc71\"; // green\r\n        if (risk > 0.7) fillColor = \"#e74c3c\"; // red\r\n        else if (risk > 0.4) fillColor = \"#f39d34\"; // orange\r\n        else if (risk > 0.2) fillColor = \"#f1c401\"; // yellow\r\n        else fillColor=\"#2ecc71\";\r\n\r\n        return {\r\n          color: \"#000\",\r\n          weight: 0.5,\r\n          fillColor,\r\n          fillOpacity: 0.55,\r\n        };\r\n      }}\r\n    />\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAOe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iMAAQ,EAA2B;IAE3D,IAAA,kMAAS;qCAAC;YACR,MAAM,oCACH,IAAI;6CAAC,CAAC,MAAQ,IAAI,IAAI;4CACtB,IAAI;6CAAC,CAAC,OAAS,QAAQ;4CACvB,KAAK;6CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC;;QAClC;oCAAG,EAAE;IAEL,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,qNAAC,wLAAO;QACN,MAAM;QACN,OAAO,CAAC;YACN,MAAM,OAAO,OAAO,SAAS,YAAY,iCAAiC;YAE1E,IAAI,YAAY,WAAW,QAAQ;YACnC,IAAI,OAAO,KAAK,YAAY,WAAW,MAAM;iBACxC,IAAI,OAAO,KAAK,YAAY,WAAW,SAAS;iBAChD,IAAI,OAAO,KAAK,YAAY,WAAW,SAAS;iBAChD,YAAU;YAEf,OAAO;gBACL,OAAO;gBACP,QAAQ;gBACR;gBACA,aAAa;YACf;QACF;;;;;;AAGN;GAjCwB;KAAA"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/FloodLegend.tsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function FloodLegend() {\r\n  return (\r\n    <div className=\"flood-legend\">\r\n      <strong>Flood Risk Zones</strong>\r\n\r\n      <div className=\"legend-item\">\r\n        <span className=\"box red\"></span>\r\n        High Risk\r\n      </div>\r\n\r\n      <div className=\"legend-item\">\r\n        <span className=\"box orange\"></span>\r\n        Medium Risk\r\n      </div>\r\n\r\n      <div className=\"legend-item\">\r\n        <span className=\"box yellow\"></span>\r\n        Low Risk\r\n      </div>\r\n\r\n      <div className=\"legend-item\">\r\n        <span className=\"box green\"></span>\r\n        Safe\r\n      </div>\r\n\r\n      <small>\r\n        Based on ML flood risk score\r\n      </small>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACtB,qBACE,qNAAC;QAAI,WAAU;;0BACb,qNAAC;0BAAO;;;;;;0BAER,qNAAC;gBAAI,WAAU;;kCACb,qNAAC;wBAAK,WAAU;;;;;;oBAAiB;;;;;;;0BAInC,qNAAC;gBAAI,WAAU;;kCACb,qNAAC;wBAAK,WAAU;;;;;;oBAAoB;;;;;;;0BAItC,qNAAC;gBAAI,WAAU;;kCACb,qNAAC;wBAAK,WAAU;;;;;;oBAAoB;;;;;;;0BAItC,qNAAC;gBAAI,WAAU;;kCACb,qNAAC;wBAAK,WAAU;;;;;;oBAAmB;;;;;;;0BAIrC,qNAAC;0BAAM;;;;;;;;;;;;AAKb;KA9BwB"}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///D:/Flood%20Risk%20Map/flood-risk-map/components/Map.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  Polyline,\r\n  Popup,\r\n  Circle,\r\n} from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport FloodZonesLayer from \"./FloodZonesLayer\";\r\nimport L from \"leaflet\";\r\nimport FloodLegend from \"./FloodLegend\";\r\n\r\n\r\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\r\n  shadowUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\r\n});\r\n\r\ninterface RouteOption {\r\n  path: [number, number][];\r\n  distance: number;\r\n  duration: number;\r\n  risk: number;\r\n}\r\n\r\ninterface Props {\r\n  routes: RouteOption[];\r\n  selectedRoute: number;\r\n  mode: \"driving\" | \"walking\" | \"cycling\";\r\n  floodReports: {\r\n    lat: number;\r\n    lon: number;\r\n    severity: number;\r\n  }[];\r\n}\r\n\r\nexport default function Map({\r\n  routes,\r\n  selectedRoute,\r\n  mode,\r\n  floodReports,\r\n}: Props) {\r\n  const center: [number, number] = [19.076, 72.8777];\r\n\r\n  const activeRoute =\r\n    routes.length > 0 ? routes[selectedRoute] : null;\r\n\r\n  const source =\r\n    activeRoute && activeRoute.path.length > 0\r\n      ? activeRoute.path[0]\r\n      : null;\r\n\r\n  const destination =\r\n    activeRoute && activeRoute.path.length > 1\r\n      ? activeRoute.path[\r\n          activeRoute.path.length - 1\r\n        ]\r\n      : null;\r\n\r\n  return (\r\n    <MapContainer\r\n      center={center}\r\n      zoom={12}\r\n      style={{ height: \"100%\", width: \"100%\" }}\r\n    >\r\n      {/* Base Map */}\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution=\"¬© OpenStreetMap contributors\"\r\n      />\r\n\r\n      {/* Ward Flood Zones */}\r\n      <FloodZonesLayer />\r\n      <FloodLegend />\r\n      {/* Routes */}\r\n      {routes.map((route, index) => (\r\n        <Polyline\r\n          key={index}\r\n          positions={route.path}\r\n          pathOptions={{\r\n            color:\r\n              index === selectedRoute\r\n                ? \"#263978\"\r\n                : \"#2e4462\",\r\n            weight: index === selectedRoute ? 7 : 4,\r\n            opacity:\r\n              index === selectedRoute ? 1 : 0.5,\r\n          }}\r\n        />\r\n      ))}\r\n\r\n      {/* Source Marker */}\r\n      {source && <Marker position={source} />}\r\n\r\n      {/* Destination Marker with Info Box */}\r\n      {destination && activeRoute && (\r\n        <Marker\r\n          position={destination}\r\n          zIndexOffset={1000}\r\n        >\r\n          <Popup>\r\n            <div style={{ minWidth: \"150px\" }}>\r\n              <strong>Destination</strong>\r\n              <div>\r\n                üìè{\" \"}\r\n                {(activeRoute.distance / 1000).toFixed(\r\n                  2\r\n                )}{\" \"}\r\n                km\r\n              </div>\r\n              <div>\r\n                ‚è±{\" \"}\r\n                {(activeRoute.duration / 60).toFixed(\r\n                  0\r\n                )}{\" \"}\r\n                mins\r\n              </div>\r\n            </div>\r\n          </Popup>\r\n        </Marker>\r\n      )}\r\n\r\n      {/* üî¥ Temporary Flood Report Circles (100m radius) */}\r\n      {floodReports.map((rep, i) => (\r\n        <Circle\r\n          key={`report-${i}`}\r\n          center={[rep.lat, rep.lon]}\r\n          radius={100}\r\n          pathOptions={{\r\n            color: \"#e74c3c\",\r\n            fillColor: \"#ff4d4d\",\r\n            fillOpacity: 0.4,\r\n            weight: 2,\r\n          }}\r\n        />\r\n      ))}\r\n    </MapContainer>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAbA;;;;;;;AAgBA,OAAO,AAAC,uLAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAS,WAAW;AACpD,uLAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAC1B,SACE;IACF,eACE;IACF,WACE;AACJ;AAoBe,SAAS,IAAI,EAC1B,MAAM,EACN,aAAa,EACb,IAAI,EACJ,YAAY,EACN;IACN,MAAM,SAA2B;QAAC;QAAQ;KAAQ;IAElD,MAAM,cACJ,OAAO,MAAM,GAAG,IAAI,MAAM,CAAC,cAAc,GAAG;IAE9C,MAAM,SACJ,eAAe,YAAY,IAAI,CAAC,MAAM,GAAG,IACrC,YAAY,IAAI,CAAC,EAAE,GACnB;IAEN,MAAM,cACJ,eAAe,YAAY,IAAI,CAAC,MAAM,GAAG,IACrC,YAAY,IAAI,CACd,YAAY,IAAI,CAAC,MAAM,GAAG,EAC3B,GACD;IAEN,qBACE,qNAAC,kMAAY;QACX,QAAQ;QACR,MAAM;QACN,OAAO;YAAE,QAAQ;YAAQ,OAAO;QAAO;;0BAGvC,qNAAC,4LAAS;gBACR,KAAI;gBACJ,aAAY;;;;;;0BAId,qNAAC,oKAAe;;;;;0BAChB,qNAAC,gKAAW;;;;;YAEX,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,qNAAC,0LAAQ;oBAEP,WAAW,MAAM,IAAI;oBACrB,aAAa;wBACX,OACE,UAAU,gBACN,YACA;wBACN,QAAQ,UAAU,gBAAgB,IAAI;wBACtC,SACE,UAAU,gBAAgB,IAAI;oBAClC;mBAVK;;;;;YAeR,wBAAU,qNAAC,sLAAM;gBAAC,UAAU;;;;;;YAG5B,eAAe,6BACd,qNAAC,sLAAM;gBACL,UAAU;gBACV,cAAc;0BAEd,cAAA,qNAAC,oLAAK;8BACJ,cAAA,qNAAC;wBAAI,OAAO;4BAAE,UAAU;wBAAQ;;0CAC9B,qNAAC;0CAAO;;;;;;0CACR,qNAAC;;oCAAI;oCACA;oCACF,CAAC,YAAY,QAAQ,GAAG,IAAI,EAAE,OAAO,CACpC;oCACC;oCAAI;;;;;;;0CAGT,qNAAC;;oCAAI;oCACD;oCACD,CAAC,YAAY,QAAQ,GAAG,EAAE,EAAE,OAAO,CAClC;oCACC;oCAAI;;;;;;;;;;;;;;;;;;;;;;;YAShB,aAAa,GAAG,CAAC,CAAC,KAAK,kBACtB,qNAAC,sLAAM;oBAEL,QAAQ;wBAAC,IAAI,GAAG;wBAAE,IAAI,GAAG;qBAAC;oBAC1B,QAAQ;oBACR,aAAa;wBACX,OAAO;wBACP,WAAW;wBACX,aAAa;wBACb,QAAQ;oBACV;mBARK,CAAC,OAAO,EAAE,GAAG;;;;;;;;;;;AAa5B;KAtGwB"}}]
}